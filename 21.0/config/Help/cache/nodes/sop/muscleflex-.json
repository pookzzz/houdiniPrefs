{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "muscleflex", "icon": "SOP/muscleflex", "tags": "character, rigging, muscles, vellum", "since": "19.0", "version": "", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Muscle Flex"], "extent": [127, 143]}, {"type": "summary", "indent": 0, "text": ["Activates and animates the contraction and relaxation of input solid muscle geometry."], "extent": [143, 237]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [237, 243], "body": [{"type": "para", "indent": 4, "text": ["This is the documentation for an older version of this node. The current Muscle Flex 2.0 documentation is available ", {"scheme": "Node", "value": "/nodes/sop/muscleflex", "type": "link", "text": ["here"], "fullpath": "/nodes/sop/muscleflex.html"}, "."], "extent": [243, 392]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["This node sets up and animates the ", {"type": "code", "text": ["muscletension"]}, " point attribute on input solid muscle geometry which drives the flexing action of your muscles during their simulation. "], "extent": [392, 565]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "code", "text": ["muscletension"]}, " attribute is used by the ", {"scheme": "Node", "value": "/nodes/sop/musclesolvervellum", "type": "link", "text": ["muscle solver"], "fullpath": "/nodes/sop/musclesolvervellum.html"}, " to apply anisotropic scaling or ", {"type": "em", "text": ["squeeze"]}, " to the incoming tetrahedral meshes. This muscle scaling is applied along the ", {"type": "em", "text": ["muscle fiber direction"]}, " defined by the ", {"type": "code", "text": ["materialW"]}, " vector point attribute which comes from the ", {"scheme": "Icon", "value": "/icons/SOP/fibergroom.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/fibergroom.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/fibergroom", "type": "link", "text": ["Fiber Groom SOP"], "fullpath": "/nodes/sop/fibergroom.html"}, " node."], "extent": [565, 947]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "em", "text": ["amount"]}, " muscles flex or the strength of their contraction during the squeeze is determined by the ", {"type": "code", "text": ["fiberstiffness"]}, " attribute which comes from the ", {"scheme": "Node", "value": "/nodes/sop/muscleproperties#fiberstrength", "type": "link", "text": ["Fiber Strength"], "fullpath": "/nodes/sop/muscleproperties.html#fiberstrength", "fragment": "#fiberstrength"}, " parameter on the ", {"scheme": "Icon", "value": "/icons/SOP/muscleproperties.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/muscleproperties.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/muscleproperties", "type": "link", "text": ["Muscles Properties SOP"], "fullpath": "/nodes/sop/muscleproperties.html"}, " node. ", {"type": "code", "text": ["muscletension"]}, " functions a lot like a multiplier of ", {"type": "code", "text": ["fiberstiffness"]}, ". When a muscle contracts, a volume preservation force also comes into play causing the non-tendonus regions of the muscle to ", {"type": "em", "text": ["bulge"]}, ". This ", {"type": "em", "text": ["volume scale force"]}, " is generated by the ", {"type": "code", "text": ["fibervolumescale"]}, " attribute  which comes from the ", {"scheme": null, "value": "#fiberdamping", "type": "link", "text": ["Fiber Volume Scale"], "fullpath": "/nodes/sop/muscleflex-.html#fiberdamping", "fragment": "#fiberdamping"}, " parameter on the ", {"scheme": "Icon", "value": "/icons/SOP/muscleproperties.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/muscleproperties.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/muscleproperties", "type": "link", "text": ["Muscles Properties SOP"], "fullpath": "/nodes/sop/muscleproperties.html"}, " node."], "extent": [947, 1718]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/musclestissue/musclestissue_musclevolumescaleforce.png", "type": "img", "text": ""}], "role": "item", "extent": [1718, 1795], "body": [{"type": "summary", "indent": 4, "text": ["Muscle flex & volume preservation"], "extent": [1819, 1864]}], "container": true, "attrs": {"display": "left full"}}, {"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/muscleflex_allguides.png", "type": "img", "text": ""}], "role": "item", "extent": [1864, 1921], "body": [{"type": "summary", "indent": 4, "text": ["Example: Muscles with all muscle flex guides visible"], "extent": [1946, 2010]}, {"type": "para", "indent": 4, "text": ["With this node, you can perform three main muscle set-up tasks:"], "extent": [2010, 2078]}, {"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": ["Link your muscle geometry (", {"type": "code", "text": ["muscle_id"]}, " attribute) to the ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["muscle tension lines"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " (", {"type": "code", "text": ["autoflex_id"]}, " attribute) that drive their automatic flexion timing."], "extent": [2078, 2261]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Adjust the ", {"scheme": null, "value": "#activationlinks", "type": "link", "text": ["activation ratio"], "fullpath": "/nodes/sop/muscleflex-.html#activationlinks", "fragment": "#activationlinks"}, " between muscle tension line ", {"type": "em", "text": ["length"]}, " (", {"type": "code", "text": ["restlength"]}, " and ", {"type": "code", "text": ["length"]}, " attributes) and what is considered a fully flexed state for the muscles (", {"type": "code", "text": ["muscletension"]}, " attribute). This sets the ", {"type": "em", "text": ["threshold"]}, " for what is considered flexed or not."], "extent": [2261, 2543]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": ["Animate the ", {"type": "code", "text": ["muscletension"]}, " attribute which is then used by the ", {"scheme": "Node", "value": "/nodes/sop/musclesolvervellum", "type": "link", "text": ["muscle solver"], "fullpath": "/nodes/sop/musclesolvervellum.html"}, " to help determine ", {"type": "em", "text": ["when"]}, " muscles try to contract and relax during their shot animation. This contraction/relaxation can be driven ", {"type": "em", "text": ["automatically"]}, " by the muscle tension lines alone or in combination with keyframes on the ", {"scheme": null, "value": "#musclefflex", "type": "link", "text": ["Muscle Flex"], "fullpath": "/nodes/sop/muscleflex-.html#musclefflex", "fragment": "#musclefflex"}, " parameters. You can tell the solver when to activate the muscles and by how much by keyframing those parameter values."], "extent": [2543, 3024]}], "container": true}], "container": true, "attrs": {"display": "right half"}}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Understanding Activation Ratios"], "extent": [3024, 3062], "body": [{"type": "para", "indent": 0, "text": ["The ", {"scheme": null, "value": "#activationratio", "type": "link", "text": ["muscle activation system"], "fullpath": "/nodes/sop/muscleflex-.html#activationratio", "fragment": "#activationratio"}, " responds differently based on whether activation ratio values fall above or below 1.  The system calculates the activation ratio  as (current_length / rest_length)\u00b3. This cubic relationship allows the transition between active and inactive to occur non-linearly in the muscles. Understanding these behaviors is important to achieve better muscle control."], "extent": [3062, 3468]}, {"type": "para", "indent": 0, "text": [{"type": "ui", "text": ["When activation ratios are set below 1"]}, " - muscles activate as tension lines shorten. The muscle achieves full relaxation when the tension line reaches or exceeds its rest length. The value chosen impacts the transition range. For example, setting an activation ratio of 0.01 provides a wide 99% range for transition, allowing very gradual muscle activation changes. In contrast, setting a value of 0.99 creates a narrow 1% range, resulting in a more abrupt transition from inactive to active. This is the behaviour one would expect with muscles that cause a joint to bend (flexors), such as the biceps bending the elbow."], "extent": [3468, 4093]}, {"type": "para", "indent": 0, "text": [{"type": "ui", "text": ["When activation ratios are above 1"]}, " -  muscles activate when tension lines lengthen.. This relationship requires careful balance with rest length adjustments to achieve optimal results since the muscle\u2019s response will become more pronounced as the line extends. This is the behaviour one would expect with muscles that cause a joint to straighten (extensors), such as the quadriceps straightening the knee."], "extent": [4093, 4505]}, {"tag": "h3", "attrs": {}, "type": "xml", "text": [" How to"]}, {"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 0, "text": [" Connect the necessary inputs to the ", {"type": "ui", "text": ["Muscle Flex SOP"]}], "role": "item", "extent": [4523, 4586], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Network Editor"]}, ", create a ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [4612, 4680]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Connect your solid muscle geometry (for example, like the output of the ", {"scheme": "Node", "value": "/nodes/sop/muscleconstraintpropertiesvellum", "type": "link", "text": ["Muscle Constraint Properties Vellum SOP"], "fullpath": "/nodes/sop/muscleconstraintpropertiesvellum.html"}, " node) to ", {"type": "em", "text": ["input 1"]}, " on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [4680, 4894]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Connect your ", {"scheme": "Node", "value": "/nodes/sop/musclepreroll", "type": "link", "text": ["prerolled"], "fullpath": "/nodes/sop/musclepreroll.html"}, " animated bone geometry to ", {"type": "em", "text": ["input 2"]}, " on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [4894, 5017]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["(Optional) Connect your ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["Muscle Tension Lines SOP"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " node to ", {"type": "em", "text": ["input 3"]}, " on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [5017, 5154]}], "container": true}, {"type": "warning_group", "body": [{"ext": null, "type": "warning", "indent": 4, "role": "item", "extent": [5154, 5168], "body": [{"type": "para", "indent": 8, "text": ["If you do not provide muscle tension lines on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node\u2019s ", {"type": "em", "text": ["input 3"]}, ", then you have to ", {"scheme": null, "value": "#keyframingflex", "type": "link", "text": ["keyframe"], "fullpath": "/nodes/sop/muscleflex-.html#keyframingflex", "fragment": "#keyframingflex"}, " your muscle\u2019s ", {"type": "code", "text": ["muscletension"]}, " or else your muscles will ", {"type": "em", "text": ["not"]}, " contract."], "extent": [5168, 5381]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "connectinginputs"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Build the parameters for the ", {"type": "ui", "text": ["Muscle Flex SOP"]}], "role": "item", "extent": [5381, 5437], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Network Editor"]}, ", select the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [5462, 5532]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Parameter Editor"]}, ", select the ", {"scheme": null, "value": "#muscleflex", "type": "link", "text": ["Muscle Flex"], "fullpath": "/nodes/sop/muscleflex-.html#muscleflex", "fragment": "#muscleflex"}, " tab."], "extent": [5532, 5609]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Muscle Flex"]}, " tab, click ", {"scheme": null, "value": "#refreshids", "type": "link", "text": ["Detect New"], "fullpath": "/nodes/sop/muscleflex-.html#refreshids", "fragment": "#refreshids"}, "."], "extent": [5609, 5675], "body": [{"type": "para", "indent": 8, "text": ["All the muscles connected to ", {"type": "em", "text": ["input 1"]}, " on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node are automatically detected and one ", {"type": "ui", "text": ["Muscle ID"]}, " parameter (flex control) per ", {"type": "code", "text": ["muscle_id"]}, " appears in the ", {"type": "ui", "text": ["Muscle Flex"]}, " tab."], "extent": [5675, 5881]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 8, "role": "item", "extent": [5881, 5897], "body": [{"type": "summary", "indent": 12, "text": ["Example: Building the Muscle ID parameters in the Muscle Flex tab and the and Activation Links parameters in the Activation Links tab."], "extent": [5983, 6137]}], "container": true, "attrs": {"src": "/videos/muscleflex_buildparmsmuscleflex.mp4", "loop": "true"}}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Select the ", {"type": "ui", "text": ["Muscle Tension Lines"]}, " tab and then click ", {"scheme": null, "value": "#refreshautoflexids", "type": "link", "text": ["Detect New"], "fullpath": "/nodes/sop/muscleflex-.html#refreshautoflexids", "fragment": "#refreshautoflexids"}, "."], "extent": [6137, 6232], "body": [{"type": "para", "indent": 8, "text": ["All the tension lines on the ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["Muscle Tension Lines SOP"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " node connected to ", {"type": "em", "text": ["input 3"]}, " on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node are automatically detected and one ", {"type": "ui", "text": ["Activation Ratio"]}, " parameter per ", {"type": "code", "text": ["autoflex_id"]}, " appears in the ", {"type": "ui", "text": ["Muscle Tension Lines"]}, " tab."], "extent": [6232, 6514]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 8, "role": "item", "extent": [6514, 6530], "body": [{"type": "summary", "indent": 12, "text": ["Example: Building the Activation Ratio parameters in the Muscle Tension Lines tab."], "extent": [6624, 6726]}], "container": true, "attrs": {"src": "/videos/muscleflex_buildparmsmuscletensionlines.mp4", "loop": "true"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "container": true, "attrs": {"id": "buildparameters"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Link muscles to muscle tension lines"], "role": "item", "extent": [6726, 6771], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Make sure that you first follow the steps above for:"], "extent": [6792, 6851], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#connectinginputs", "type": "link", "text": ["Connecting"], "fullpath": "/nodes/sop/muscleflex-.html#connectinginputs", "fragment": "#connectinginputs"}, " your ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node\u2019s inputs."], "extent": [6851, 6932]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#buildparameters", "type": "link", "text": ["Building"], "fullpath": "/nodes/sop/muscleflex-.html#buildparameters", "fragment": "#buildparameters"}, " the parameters for the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [6932, 7019]}], "container": true}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Network Editor"]}, ", select the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [7019, 7089]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Select the ", {"scheme": null, "value": "#activationlinks", "type": "link", "text": ["Activation Links"], "fullpath": "/nodes/sop/muscleflex-.html#activationlinks", "fragment": "#activationlinks"}, " tab."], "extent": [7089, 7147]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Activation Links"]}, " tab, do one of the following for each of your muscles:"], "extent": [7147, 7236], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["In the viewport state, ", {"keys": ["LMB"], "type": "keys", "text": null}, "-click a muscle, press ", {"keys": ["L"], "type": "keys", "text": null}, ", ", {"keys": ["LMB"], "type": "keys", "text": null}, "-click the muscle tension line that you want to link to the selected muscle, and then press ", {"keys": ["Enter"], "type": "keys", "text": null}, ". You can also use ", {"keys": ["Shift"], "type": "keys", "text": null}, " + ", {"keys": ["LMB"], "type": "keys", "text": null}, " -click to select multiple muscles at a time during this step."], "extent": [7236, 7515], "body": [{"type": "para", "indent": 12, "text": ["The name of the muscle tension line you selected appears in the ", {"type": "ui", "text": ["Activation Links"]}, " parameter field next to its target muscle. If your model is symmetrical and ", {"type": "ui", "text": ["Assign Links with Symmetry"]}, " is turned ", {"type": "em", "text": ["on"]}, " in the viewport state\u2019s ", {"keys": ["RMB"], "type": "keys", "text": null}, " menu, then the name of the muscle tension line also automatically appears in the ", {"type": "ui", "text": ["Activation Links"]}, " parameter field for the mirrored muscle on the other side of your character."], "extent": [7515, 7945]}], "container": true}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["In the ", {"type": "ui", "text": ["Activation Links"]}, " tab, use the drop-down menus next to each listed muscle name to select the names of the muscle tension line that you want to drive each muscle."], "extent": [7945, 8128], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 12, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/muscleflex_activationlinks.png", "type": "img", "text": ""}], "role": "item", "extent": [8128, 8203], "body": [{"type": "summary", "indent": 16, "text": ["Example: Activation Links parameter fields"], "extent": [8240, 8306]}], "container": true, "attrs": {"display": "right wide"}}], "container": true, "role": "item_group"}], "container": true}], "container": true}, {"type": "para", "indent": 8, "text": ["The ", {"type": "ui", "text": ["Activation Links"]}, " parameters and this process of linking ", {"type": "code", "text": ["muscle_ids"]}, " to ", {"type": "code", "text": ["autoflex_ids"]}, " establishes the ", {"type": "em", "text": ["activation relationship"]}, " between your muscle geometry and the muscle tension lines that drive their contraction."], "extent": [8306, 8540]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "linkmuscles"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Adjust the muscle flex activation threshold"], "role": "item", "extent": [8540, 8592], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Make sure that you first follow the steps above for:"], "extent": [8617, 8676], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#connectinginputs", "type": "link", "text": ["Connecting"], "fullpath": "/nodes/sop/muscleflex-.html#connectinginputs", "fragment": "#connectinginputs"}, " your ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node\u2019s inputs."], "extent": [8676, 8757]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#buildparameters", "type": "link", "text": ["Building"], "fullpath": "/nodes/sop/muscleflex-.html#buildparameters", "fragment": "#buildparameters"}, " the parameters for the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [8757, 8844]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#linkmuscles", "type": "link", "text": ["Linking"], "fullpath": "/nodes/sop/muscleflex-.html#linkmuscles", "fragment": "#linkmuscles"}, " your muscles to their corresponding muscle tension lines (you need to have provided a 3rd input on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node)."], "extent": [8844, 9007]}], "container": true}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Scrub through your shot\u2019s animation with the timeline slider in the playback bar to see how your muscles are flexing."], "extent": [9007, 9131]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Select the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node and then open the ", {"type": "ui", "text": ["Parameter Editor"]}, "."], "extent": [9131, 9213]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Muscle Tension Lines"]}, " tab, adjust the ", {"scheme": null, "value": "#activationratio", "type": "link", "text": ["Activation Ratio"], "fullpath": "/nodes/sop/muscleflex-.html#activationratio", "fragment": "#activationratio"}, " parameter values for each muscle until your muscles appear (via the ", {"scheme": "Node", "value": "/nodes/sop/muscleflex#muscletensionviz", "type": "link", "text": ["Muscle Tension Visualization"], "fullpath": "/nodes/sop/muscleflex.html#muscletensionviz", "fragment": "#muscletensionviz"}, " in the viewport state) to be contracting their fullest at the times you need them to be bulging the most. "], "extent": [9213, 9546], "body": [{"type": "para", "indent": 8, "text": ["The ", {"type": "ui", "text": ["Activation Ratio"]}, " parameters determine the ", {"type": "em", "text": ["threshold"]}, " for what is considered flexed or not. When you adjust these parameter values, you are changing the ratio between muscle tension line ", {"type": "em", "text": ["length"]}, " (", {"type": "code", "text": ["restlength"]}, " and ", {"type": "code", "text": ["length"]}, " attributes) and what is considered a fully flexed state for the muscles (", {"type": "code", "text": ["muscletension"]}, " attribute)."], "extent": [9546, 9887]}, {"type": "para", "indent": 8, "text": ["For example, if is an ", {"type": "ui", "text": ["Activation Ratio"]}, " parameter is set to 0.75, then its target muscle is considered ", {"type": "em", "text": ["fully flexed"]}, " when its muscle tension line\u2019s ", {"type": "code", "text": ["length"]}, " is 75% of the length of its ", {"type": "code", "text": ["restlength"]}, "."], "extent": [9887, 10099]}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["If you are still not quite getting the muscle activation behavior you desire, try ", {"scheme": null, "value": "#keyframingflex", "type": "link", "text": ["keyframing"], "fullpath": "/nodes/sop/muscleflex-.html#keyframingflex", "fragment": "#keyframingflex"}, " your muscle\u2019s flex. For steps on how to do that, see the procedure below."], "extent": [10099, 10291]}], "container": true}], "container": true, "attrs": {"id": "adjustthreshold"}}, {"ext": null, "type": "task", "indent": 0, "text": [" Adjust muscle contraction and animate muscle tension"], "role": "item", "extent": [10291, 10352], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Make sure that you first follow the steps above for:"], "extent": [10376, 10435], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#connectinginputs", "type": "link", "text": ["Connecting"], "fullpath": "/nodes/sop/muscleflex-.html#connectinginputs", "fragment": "#connectinginputs"}, " your ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node\u2019s inputs."], "extent": [10435, 10516]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#buildparameters", "type": "link", "text": ["Building"], "fullpath": "/nodes/sop/muscleflex-.html#buildparameters", "fragment": "#buildparameters"}, " the parameters for the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [10516, 10603]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"scheme": null, "value": "#linkmuscles", "type": "link", "text": ["Linking"], "fullpath": "/nodes/sop/muscleflex-.html#linkmuscles", "fragment": "#linkmuscles"}, " your muscles to their corresponding muscle tension lines (if you provided a 3rd input on the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node). "], "extent": [10603, 10757]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["(Optional) ", {"scheme": null, "value": "#adjustthreshold", "type": "link", "text": ["Adjusting"], "fullpath": "/nodes/sop/muscleflex-.html#adjustthreshold", "fragment": "#adjustthreshold"}, " the muscle flex activation threshold."], "extent": [10757, 10845]}], "container": true}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Select the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node and then open the ", {"type": "ui", "text": ["Parameter Editor"]}, "."], "extent": [10845, 10927]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Select the ", {"type": "ui", "text": ["Muscle Flex"]}, " tab."], "extent": [10927, 10965]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["In the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " viewport state, select one or ", {"keys": ["Shift"], "type": "keys", "text": null}, " -", {"keys": ["LMB"], "type": "keys", "text": null}, " multiple muscles and then press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to make them the current selection."], "extent": [10965, 11126], "body": [{"type": "note_group", "body": [{"ext": null, "type": "note", "indent": 8, "role": "item", "extent": [11126, 11141], "body": [{"type": "para", "indent": 12, "text": ["Making muscles the ", {"type": "em", "text": ["current selection"]}, " also isolates their keyframes. This means that only the keys for these muscles will now appear in the timeline and in the ", {"type": "ui", "text": ["Animation Editor"]}, "."], "extent": [11141, 11337]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Scrub the timeline slider in the playback bar to the frame at which you want to adjust and key the current muscle\u2019s tension, and then do one of the following:"], "extent": [11337, 11502], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Press ", {"keys": ["1"], "type": "keys", "text": null}, " to set the muscle\u2019s ", {"type": "code", "text": ["muscletension"]}, " to ", {"type": "strong", "text": ["1"]}, "."], "extent": [11502, 11568]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["Press ", {"keys": ["0"], "type": "keys", "text": null}, " to set the muscle\u2019s ", {"type": "code", "text": ["muscletension"]}, " to ", {"type": "strong", "text": ["0"]}, "."], "extent": [11568, 11634]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": [{"keys": ["mouse_wheel"], "type": "keys", "text": null}, " to increase or decrease the muscle\u2019s  ", {"type": "code", "text": ["muscletension"]}, " value."], "extent": [11634, 11721]}], "container": true}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Press ", {"keys": ["K"], "type": "keys", "text": null}, " to set a key on the muscle\u2019s ", {"type": "code", "text": ["muscletension"]}, "."], "extent": [11721, 11786]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Repeat steps ", {"type": "strong", "text": ["4"]}, "-", {"type": "strong", "text": ["6"]}, " for each muscle you want to animate the ", {"type": "code", "text": ["muscletension"]}, " for."], "extent": [11786, 11875]}], "container": true}, {"type": "warning_group", "body": [{"ext": null, "type": "warning", "indent": 4, "text": ["Important Note"], "role": "item", "extent": [11875, 11904], "body": [{"type": "para", "indent": 8, "text": ["You can only see the deformation results from your keyframes by playing back the muscle simulation from the ", {"scheme": "Node", "value": "/nodes/sop/musclesolvervellum", "type": "link", "text": ["Muscle Solver Vellum SOP"], "fullpath": "/nodes/sop/musclesolvervellum.html"}, " node."], "extent": [11904, 12082]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "keyframingflex"}}], "container": true, "role": "item_group"}]}, {"level": 1, "id": "state", "container": true, "type": "state_section", "indent": 0, "role": "section", "extent": [12082, 12089], "body": [{"level": 3, "type": "sep", "indent": 0, "text": [" Muscle Flex state hotkeys "], "extent": [12089, 12124], "body": [{"type": "para", "indent": 4, "text": ["In the viewport, the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " state is inherently a ", {"type": "em", "text": ["selection"]}, " state. Select one or multiple muscles and then press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to make them your current selection. Scrub the timeline slider in the playback bar to any frame and then perform an action on your current selection."], "extent": [12141, 12434]}, {"type": "table", "thead": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Hotkeys or Interaction"], "role": "th", "extent": [12434, 12463], "container": true, "attrs": {"width": "35%"}}, {"type": "cell", "indent": 8, "text": ["Action "], "role": "th", "extent": [12483, 12501]}], "divider": false}], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Press ", {"keys": ["1"], "type": "keys", "text": null}, " "], "role": "td", "extent": [12501, 12519], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Set the muscle tension (Muscle Flex) for the currently selected muscle(s) to ", {"type": "strong", "text": ["1"]}, "."], "extent": [12519, 12609]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Press ", {"keys": ["0"], "type": "keys", "text": null}, " "], "role": "td", "extent": [12609, 12627], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Set the muscle tension (Muscle Flex) for the currently selected muscle(s) to ", {"type": "strong", "text": ["0"]}, "."], "extent": [12627, 12717]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"keys": ["MMB"], "type": "keys", "text": null}, "-scroll "], "role": "td", "extent": [12717, 12738], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Increase or decrease the muscle tension for the currently selected muscle(s)."], "extent": [12738, 12824]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Press ", {"keys": ["K"], "type": "keys", "text": null}, " "], "role": "td", "extent": [12824, 12842], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Set a keyframe on the muscle tension at the current time for the selected muscle(s)."], "extent": [12842, 12936]}]}], "divider": false}]}], "container": true, "attrs": {"id": "hotkeys"}}, {"level": 3, "type": "sep", "indent": 0, "text": [" Muscle Flex state right-click menu "], "extent": [12936, 12979], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/muscleflex_muscleflexrightclickstatemenu.jpg", "type": "img", "text": ""}], "role": "item", "extent": [12979, 13061], "body": [{"type": "summary", "indent": 8, "text": ["Viewport state right-click menu"], "extent": [13089, 13136]}], "container": true, "attrs": {"display": "left half"}}], "container": true, "role": "item_group"}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Set Keyframe"], "extent": [13136, 13154], "body": [{"type": "para", "indent": 8, "text": ["Sets a key on the ", {"type": "ui", "text": ["Muscle ID"]}, " parameter (flex control) for the currently selected muscle. Also lists the K hotkey. "], "extent": [13154, 13281]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set Flex to 0"], "extent": [13281, 13300], "body": [{"type": "para", "indent": 8, "text": ["Sets the ", {"type": "ui", "text": ["Muscle ID"]}, " parameter value for the currently selected muscle to 0. Also lists the 0 hotkey."], "extent": [13300, 13413]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set Flex to 1.0"], "extent": [13413, 13434], "body": [{"type": "para", "indent": 8, "text": ["Sets the ", {"type": "ui", "text": ["Muscle ID"]}, " parameter value for the currently selected muscle to 1.0. Lists the 1 hotkey."], "extent": [13434, 13544]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Assign Links with Symmetry"], "extent": [13544, 13576], "body": [{"type": "para", "indent": 8, "text": ["When on, if you assign a muscle tension line to a muscle using a ", {"scheme": null, "value": "#linkmuscles", "type": "link", "text": ["Activation Links"], "fullpath": "/nodes/sop/muscleflex-.html#linkmuscles", "fragment": "#linkmuscles"}, " parameter and that muscle is part of a symmetrical model, then the corresponding muscle on the opposite side of the model is automatically linked to the correct muscle tension line."], "extent": [13576, 13864]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Link Selected Muscles to Muscle Tension Line"], "extent": [13864, 13914], "body": [{"type": "para", "indent": 8, "text": ["Links the currently selected muscle to the currently selected muscle tension line. Also lists the L hotkey."], "extent": [13914, 14031]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Unlink Selected Muscles from Muscle Tension Line"], "extent": [14031, 14085], "body": [{"type": "para", "indent": 8, "text": ["Unlinks the currently selected muscle from its current muscle tension line."], "extent": [14085, 14170]}], "container": true}], "container": true}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Muscle Flex state visualizers "], "extent": [14170, 14208], "body": [{"type": "table", "thead": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Visualization"], "role": "th", "extent": [14227, 14247], "container": true, "attrs": {"width": "35%"}}, {"type": "cell", "indent": 8, "text": ["Viewport State "], "role": "th", "extent": [14267, 14293]}], "divider": false}], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Muscle selection "], "role": "td", "extent": [14293, 14316], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["You can select your muscles directly in the viewport state. This is useful when animating your muscles' flex in the viewport state using hotkeys."], "extent": [14316, 14470]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Muscle activation "], "role": "td", "extent": [14470, 14494], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["You can view the activation of your muscles and their tension levels while playing back your character\u2019s shot animation with the ", {"type": "ui", "text": ["Display"]}, " > ", {"type": "ui", "text": ["Muscle Tension Visualizer"]}, " parameter. The muscles change color to indicate their amounts of ", {"type": "code", "text": ["muscletension"]}, " during the animation. "], "extent": [14494, 14780]}, {"type": "para", "indent": 8, "text": ["These values change automatically over time because of the ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["muscle tension lines"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " and the solve, but you can also change them and keyframe them manually with the parameters in the ", {"scheme": null, "value": "#muscleflex", "type": "link", "text": ["Muscle Flex"], "fullpath": "/nodes/sop/muscleflex-.html#muscleflex", "fragment": "#muscleflex"}, " tab."], "extent": [14780, 15028]}]}], "divider": false}]}], "container": true, "attrs": {"id": "stateviz"}}], "text": "State"}, {"level": 1, "id": "attributes", "container": true, "type": "attributes_section", "indent": 0, "role": "section", "extent": [15028, 15040], "body": [{"type": "attributes_item_group", "body": [{"ext": null, "type": "attributes_item", "indent": 0, "text": [{"type": "code", "text": ["muscletension"]}], "role": "item", "extent": [15040, 15064], "body": [{"type": "para", "indent": 4, "text": ["Stores the variable muscle flex values over time as point transforms."], "extent": [15111, 15186]}], "container": true, "attrs": {"type": "point", "id": "muscletensionattrib"}, "id": "muscletension"}], "container": true, "role": "item_group"}], "text": "Attributes"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [15186, 15198], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Attribute"], "extent": [15198, 15210], "body": [{"type": "para", "indent": 4, "text": ["Specifies the name of the attribute that stores all the muscle flex settings."], "extent": [15231, 15314]}], "container": true, "attrs": {"id": "attribname"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": "muscleflex", "container": true, "type": "h", "indent": 0, "text": ["Muscle Flex"], "extent": [15314, 15345], "body": [{"type": "para", "indent": 0, "text": ["This tab lists the ", {"type": "ui", "text": ["Muscle Flex"]}, " parameters."], "extent": [15345, 15394]}, {"type": "para", "indent": 0, "text": ["The parameters found on this tab are generated automatically by detecting the ", {"type": "code", "text": ["muscle_id"]}, " attributes on the incoming muscle geometry. A float parameter is created for each ", {"type": "code", "text": ["muscle_id"]}, " found on the ", {"type": "em", "text": ["first input"]}, " of the ", {"type": "ui", "text": ["Muscle Flex"]}, " SOP node. The parameter names are labeled identically to the ", {"type": "code", "text": ["muscle_id"]}, " names for easy identification. "], "extent": [15394, 15734]}, {"type": "para", "indent": 0, "text": ["In the viewport, muscles change color to indicate their amount of tension or ", {"type": "em", "text": ["muscle flex"]}, ". You can tell the muscles when to activate and when not to activate by ", {"type": "em", "text": ["keyframing"]}, " the ", {"type": "ui", "text": ["Muscle Flex"]}, " parameter values."], "extent": [15734, 15948]}, {"type": "para", "indent": 0, "text": ["When you bring muscles into a simulation, their contraction is driven by a combination of ", {"type": "code", "text": ["muscletension"]}, " (", {"type": "ui", "text": ["Muscle Flex"]}, " parameters) and a fiber scale force (", {"type": "code", "text": ["fiberstiffness"]}, " attribute from the ", {"scheme": "Icon", "value": "/icons/SOP/muscleproperties.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/muscleproperties.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/muscleproperties", "type": "link", "text": ["Muscles Properties SOP"], "fullpath": "/nodes/sop/muscleproperties.html"}, " node) that is applied to the tetrahedra. Muscles scale in the muscle fiber direction (", {"type": "code", "text": ["materialW"]}, " vector point attribute from the ", {"scheme": "Node", "value": "/nodes/sop/fibergroom", "type": "link", "text": ["Fiber Groom SOP"], "fullpath": "/nodes/sop/fibergroom.html"}, " node)."], "extent": [15948, 16410]}, {"type": "para", "indent": 0, "text": ["You can control your muscles' flex animation in one of three ways:"], "extent": [16410, 16478]}, {"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["By assigning a ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["muscle tension line"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " to a ", {"type": "ui", "text": ["Muscle Flex"]}, " parameter using the ", {"scheme": "Node", "value": "/nodes/sop/muscleflex#activations", "type": "link", "text": ["Activation Links"], "fullpath": "/nodes/sop/muscleflex.html#activations", "fragment": "#activations"}, "."], "extent": [16478, 16638]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["By directly keyframing the individual ", {"type": "ui", "text": ["Muscle Flex"]}, " parameters in this tab."], "extent": [16638, 16718]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["By using a combination of 1 and 2."], "extent": [16718, 16756]}], "container": true}, {"type": "para", "indent": 0, "text": ["If your Muscle & Tissue set-up uses muscle tension lines, you don\u2019t have to keyframe the ", {"type": "code", "text": ["muscletension"]}, " per muscle (via the ", {"type": "ui", "text": ["Muscle Flex"]}, " parameters) over the entire course of your shot\u2019s animation. The muscle tension lines will drive those changes in the ", {"type": "code", "text": ["muscletension"]}, " values for you."], "extent": [16756, 17048]}, {"type": "para", "indent": 0, "text": ["Even though the muscle tension lines automate a lot of the muscle contraction for you, you can still tweak the programmatic ", {"type": "code", "text": ["muscletension"]}, " values they generate by adding some keyframes to the ", {"type": "ui", "text": ["Muscle Flex"]}, " parameters as needed."], "extent": [17048, 17280]}, {"type": "para", "indent": 0, "text": ["If a muscle\u2019s ", {"type": "code", "text": ["muscletension"]}, " is controlled by both keyframe values and the muscle tension line that is driving it, the value that wins out is the stronger/higher value. For example, if the ", {"type": "code", "text": ["muscletension"]}, " that is detected from the muscle tension line is 0.5 and the keyframed ", {"type": "ui", "text": ["Muscle Flex"]}, " value is 0.75, the keyframed value would win out. You will always get the maximum value."], "extent": [17280, 17663]}, {"level": 3, "type": "sep", "indent": 0, "text": [" Input "], "extent": [17663, 17677], "body": [{"type": "para", "indent": 4, "text": ["This node caches the ", {"type": "code", "text": ["muscle_id"]}, " names found on the incoming muscle geometry (input 1) in order to preserve any animation and parameter settings. "], "extent": [17693, 17845]}, {"type": "para", "indent": 4, "text": ["These buttons allow you to update and/or reset this cache in the event that you add or remove muscles ", {"type": "em", "text": ["after"]}, " their geometry node has already been connected to the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [17845, 18040]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Detect New"], "extent": [18040, 18056], "body": [{"type": "para", "indent": 8, "text": ["Looks for any new ", {"type": "code", "text": ["muscle_ids"]}, " found on the input muscle geometry and appends them to the parameter list."], "extent": [18089, 18208]}], "container": true, "attrs": {"id": "refreshids"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Remove Unused"], "extent": [18208, 18227], "body": [{"type": "para", "indent": 8, "text": ["Removes any ", {"type": "ui", "text": ["Muscle Flex"]}, " parameters listed in this tab if their corresponding ", {"type": "code", "text": ["muscle_ids"]}, " do ", {"type": "em", "text": ["not"]}, " exist on the input muscle geometry."], "extent": [18257, 18409]}], "container": true, "attrs": {"id": "cullids"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reset All"], "extent": [18409, 18424], "body": [{"type": "para", "indent": 8, "text": ["Resets all the current ", {"type": "ui", "text": ["Muscle Flex"]}, " and ", {"type": "ui", "text": ["Activation Links"]}, " parameters to their default values and rebuilds the internal cache list.  "], "extent": [18447, 18595]}, {"type": "warning_group", "body": [{"ext": null, "type": "warning", "indent": 8, "role": "item", "extent": [18595, 18613], "body": [{"type": "para", "indent": 12, "text": ["Clicking ", {"type": "ui", "text": ["Reset All"]}, " also deletes any existing ", {"type": "ui", "text": ["Muscle Flex"]}, " channel animation."], "extent": [18613, 18714]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "resetids"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clear All"], "extent": [18714, 18729], "body": [{"type": "para", "indent": 8, "text": ["Removes all ", {"type": "ui", "text": ["Muscle Flex"]}, " and ", {"type": "ui", "text": ["Activation Links"]}, " parameters from the parameter list."], "extent": [18751, 18849]}], "container": true, "attrs": {"id": "clearids"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "input"}}, {"level": 3, "type": "sep", "indent": 0, "text": [" Muscle IDs "], "extent": [18849, 18868], "body": [{"type": "para", "indent": 4, "text": ["Lists the ", {"type": "ui", "text": ["Muscle Flex"]}, " parameters. The parameter names will adapt according to the incoming muscle geometry (input 1). Each parameter listed here is derived from the input ", {"type": "code", "text": ["muscle_ids"]}, " with the same name. "], "extent": [18888, 19102]}, {"type": "para", "indent": 4, "text": ["A ", {"type": "ui", "text": ["Muscle Flex"]}, " value of 0 will cause a muscle to simulate as a relaxed softbody, and a value of 1.0 will maximize the muscle tension and cause a muscle to contract and stiffen."], "extent": [19102, 19295]}], "container": true, "attrs": {"id": "muscleids"}}]}, {"level": 2, "id": "muscletensionlines", "container": true, "type": "h", "indent": 0, "text": ["Muscle Tension Lines"], "extent": [19295, 19343], "body": [{"type": "para", "indent": 0, "text": ["This tab lists the ", {"type": "ui", "text": ["Activation Ratio"]}, " parameters and it is only enabled when a ", {"scheme": "Icon", "value": "/icons/SOP/muscletensionlines.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/muscletensionlines.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["Muscle Tension Lines SOP"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " node is connected to this node\u2019s ", {"type": "em", "text": ["third input"]}, " (Input 3)."], "extent": [19343, 19580]}, {"type": "para", "indent": 0, "text": ["When a muscle tension line is linked to one or more muscles, a change in length is used to drive the ", {"type": "code", "text": ["muscletension"]}, " attribute on the muscles. You can use keyframed muscle tension at the same time as muscle tension lines. The maximum of the two is applied to the resulting ", {"type": "code", "text": ["muscletension"]}, " attribute."], "extent": [19580, 19881]}, {"type": "para", "indent": 0, "text": ["In the ", {"type": "ui", "text": ["Muscle Tension Lines"]}, " tab > ", {"type": "ui", "text": ["Activation Ratio section"]}, " of the parameters, you can set the muscle activation threshold for any given line. A change in length that amounts to this ratio will map to a fully tensed muscle. For example, if the L_Bicep parameter is given a value of 0.75, and L_Bicep is linked to the L_Bicep muscle tension line, then when the L_Bicep muscle tension line reaches 75% of its ", {"type": "code", "text": ["rest_length"]}, ", the ", {"type": "code", "text": ["muscletension"]}, " for the L_Bicep muscle would be 1.0. If the value of the parameter is set to 2.0, when the muscle tension line reaches 200% of its ", {"type": "code", "text": ["rest_length"]}, ", the ", {"type": "code", "text": ["muscletension"]}, " for the L_Bicep muscle would also be 1.0."], "extent": [19881, 20539]}, {"level": 3, "type": "sep", "indent": 0, "text": [" Tension Line Timing "], "extent": [20539, 20567], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Evaluate at Frame"], "extent": [20567, 20595], "body": [{"type": "para", "indent": 8, "text": ["Specifies at what frame in the shot\u2019s animation the muscle flex is activated."], "extent": [20619, 20706]}], "container": true, "attrs": {"id": "frame"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Input "], "extent": [20706, 20720], "body": [{"type": "para", "indent": 4, "text": ["This node detects and caches a primitive attribute named ", {"type": "code", "text": ["autoflex_id"]}, " found on the incoming muscle tensions lines (input 3). "], "extent": [20720, 20853]}, {"type": "para", "indent": 4, "text": ["These buttons allow you to update and/or reset this cache in the event that you add or remove any muscle tension lines ", {"type": "em", "text": ["after"]}, " their ", {"scheme": "Icon", "value": "/icons/SOP/muscletensionlines.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/muscletensionlines.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["Muscle Tension Lines SOP"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " node has already been connected to the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node."], "extent": [20853, 21152]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Detect New"], "extent": [21152, 21168], "body": [{"type": "para", "indent": 8, "text": ["Looks for any new ", {"type": "code", "text": ["autoflex_ids"]}, " found on the input ", {"type": "ui", "text": ["Muscle Tension Lines SOP"]}, " node and appends them to the parameter list."], "extent": [21200, 21339]}], "container": true, "attrs": {"id": "refreshautoflexids"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Remove Unused"], "extent": [21339, 21358], "body": [{"type": "para", "indent": 8, "text": ["Removes any ", {"type": "ui", "text": ["Activation Ratio"]}, " parameters listed in this tab if their corresponding ", {"type": "code", "text": ["autoflex_ids"]}, " do ", {"type": "em", "text": ["not"]}, " exist on the input ", {"type": "ui", "text": ["Muscle Tension Lines SOP"]}, " node."], "extent": [21387, 21564]}], "container": true, "attrs": {"id": "cullautoflexids"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Reset All"], "extent": [21564, 21579], "body": [{"type": "para", "indent": 8, "text": ["Resets all the current ", {"type": "ui", "text": ["Activation Ratio"]}, " parameters to their default values and rebuilds the internal cache list."], "extent": [21609, 21735]}], "container": true, "attrs": {"id": "resetautoflexids"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Clear All"], "extent": [21735, 21750], "body": [{"type": "para", "indent": 8, "text": ["Removes all the ", {"type": "code", "text": ["autoflex_id"]}, "s from the parameter list."], "extent": [21780, 21849]}], "container": true, "attrs": {"id": "clearautoflexids"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Activation Ratio "], "extent": [21849, 21874], "body": [{"type": "para", "indent": 4, "text": ["The parameters found in this section are automatically generated by detecting the ", {"type": "code", "text": ["autoflex_ids"]}, " attributes on the ", {"scheme": "Icon", "value": "/icons/SOP/muscletensionlines.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/muscletensionlines.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["Muscle Tension Lines SOP"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " node. A float parameter is created for each ", {"type": "code", "text": ["autoflex_id"]}, " found on the ", {"type": "em", "text": ["third input"]}, " (input 3) of the ", {"type": "ui", "text": ["Muscle Flex"]}, " SOP node. The parameter names are labeled identically to the ", {"type": "code", "text": ["autoflex_id"]}, " names for easy identification. "], "extent": [21900, 22341]}, {"type": "para", "indent": 4, "text": ["The ", {"type": "ui", "text": ["Activation Ratio"]}, " parameter values indicate the length ratio at which maximum contraction should occur. The ratio is relative to the ", {"type": "code", "text": ["restlength"]}, " and ", {"type": "code", "text": ["length"]}, " of the corresponding muscle tension line. "], "extent": [22341, 22555]}, {"type": "para", "indent": 4, "text": ["For example, a value of 1.5 will cause a muscle to contract whenever this line approaches a length that is one and a half times its original rest length."], "extent": [22555, 22718]}], "container": true, "attrs": {"id": "activationratio"}}]}, {"level": 2, "id": "activationlinks", "container": true, "type": "h", "indent": 0, "text": ["Activation Links"], "extent": [22718, 22759], "body": [{"type": "para", "indent": 0, "text": ["This tab lists the parameters that allow you to link individual muscles (by ", {"type": "code", "text": ["muscle_id"]}, ") to the muscle tension lines (", {"type": "code", "text": ["autoflex_ids"]}, ") that drive their fluctuations in ", {"type": "code", "text": ["muscletension"]}, " values throughout their shot\u2019s animation."], "extent": [22759, 22986]}, {"type": "para", "indent": 0, "text": ["You can generate this list of parameters by connecting a ", {"scheme": "Icon", "value": "/icons/SOP/muscletensionlines.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/muscletensionlines.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": ["Muscle Tension Lines SOP"], "fullpath": "/nodes/sop/muscletensionlines.html"}, " node to the ", {"type": "em", "text": ["third input"]}, " (input 3) of the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, " node and then clicking ", {"type": "ui", "text": ["Detect New"]}, " in the ", {"type": "ui", "text": ["Muscle Flex"]}, " tab."], "extent": [22986, 23269]}, {"type": "para", "indent": 0, "text": ["You can adjust the activation ratio between muscle tension line length (", {"type": "code", "text": ["restlength"]}, " and ", {"type": "code", "text": ["length"]}, " attributes) and what is considered a fully flexed state for the muscles (", {"type": "code", "text": ["muscletension"]}, " attribute). This sets the threshold for what is considered flexed or not. "], "extent": [23269, 23532]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Match Tension Lines by Name"], "extent": [23532, 23561], "body": [{"type": "para", "indent": 4, "text": ["When on, tension lines are automatically linked to any muscles with the same name as stored in the ", {"type": "ui", "text": ["Attribute to Match"]}, " attribute. The tension line names are stored in ", {"type": "code", "text": ["autoflex_id"]}, ". Note that the ", {"type": "code", "text": ["autoflex_id"]}, " attribute must end with ", {"type": "code", "text": ["_autoflex"]}, " for this to work."], "extent": [23588, 23860]}], "container": true, "attrs": {"id": "matchlinesbyname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Activation Bias"], "extent": [23860, 23877], "body": [{"type": "para", "indent": 4, "text": ["The exponent of the function that maps the transition in length between the ", {"type": "ui", "text": ["Activation Ratio"]}, " and ", {"type": "code", "text": ["1"]}, " from active ", {"type": "code", "text": ["1"]}, " to inactive ", {"type": "code", "text": ["0"]}, ". The higher the bias value, the snappier the activation will appear."], "extent": [23906, 24117]}], "container": true, "attrs": {"id": "activationbias"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Deform"], "extent": [24117, 24130], "body": [{"type": "para", "indent": 0, "text": ["These parameters apply a ", {"type": "em", "text": ["point deform"]}, " to the incoming muscles using the input animation source (usually, the animated Bone Geometry) purely for contextual viewing of the ", {"type": "code", "text": ["muscletension"]}, " animation. The deformed animation is for reference only, as the ", {"scheme": "Node", "value": "/nodes/sop/musclesolvervellum", "type": "link", "text": ["muscle solver"], "fullpath": "/nodes/sop/musclesolvervellum.html"}, " only takes the static t-pose position into account."], "extent": [24130, 24480]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Output Integrity"], "extent": [25196, 25214], "body": [{"type": "para", "indent": 4, "text": ["Point deform and delta mush can potentially produce some very poor quality and/or inverted tetrahedra. The ", {"type": "ui", "text": ["Output Integrity"]}, " parameter options can help you counteract these lower quality deformation results."], "extent": [25238, 25454]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Simple Deformation"], "extent": [25454, 25478], "body": [{"type": "para", "indent": 8, "text": ["Does not try to correct any malformed tetrahedra on the interior of the muscle tetrahedral meshes."], "extent": [25478, 25586]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Compute Quasistatic Corrections"], "extent": [25586, 25623], "body": [{"type": "para", "indent": 8, "text": ["Run a quasistatic simulation internally to correct any malformed tetrahedra on the interior of the muscle tetrahedral meshes."], "extent": [25623, 25758]}, {"type": "para", "indent": 8, "text": ["For most muscle simulations, this option will not be necessary as it adds additional compute time for motion that ultimately will ", {"type": "em", "text": ["not"]}, " be used by the ", {"scheme": "Node", "value": "/nodes/sop/musclesolvervellum", "type": "link", "text": ["muscle solver"], "fullpath": "/nodes/sop/musclesolvervellum.html"}, ".  But for situations where better quality deformations are desired for the output of the ", {"type": "ui", "text": ["Muscle Flex SOP"]}, ", you may find the extra integrity solve of this option beneficial."], "extent": [25758, 26138]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "meshintegrity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Deformation Style"], "extent": [26138, 26157], "body": [{"type": "para", "indent": 4, "text": ["Determines how the muscle deformations are performed."], "extent": [26182, 26241]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Point Deform"], "extent": [26241, 26259], "body": [{"type": "para", "indent": 8, "text": ["Use a deformation lattice (point cloud) to drive the muscle deformations where each point on the lattice ", {"type": "em", "text": ["captures"]}, " and influences nearby points on the muscle tetrahedral meshes. The closer the points, the more influence (computed using the Elendt metaball formula)."], "extent": [26259, 26535]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use BoneCapture Weights"], "extent": [26535, 26564], "body": [{"type": "para", "indent": 8, "text": ["Use the muscle geometry\u2019s skinning weights (", {"type": "code", "text": ["boneCapture"]}, " point attribute) and the skeleton specified by the ", {"type": "ui", "text": ["KineFX Rig Skeleton"]}, " parameter to drive the muscle deformations."], "extent": [26564, 26750]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "usebonecapture"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["KineFX Skeleton"], "extent": [26750, 26767], "body": [{"type": "para", "indent": 4, "text": ["Specifies the path to the KineFX skeleton that you want to drive the muscle deformations."], "extent": [26785, 26880]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Deformation Style"]}, " is set to ", {"type": "ui", "text": ["Use BoneCapture Weights"]}, "."], "extent": [26880, 26984]}], "container": true, "attrs": {"id": "rigpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["KineFX Rest Skeleton"], "extent": [26984, 27006], "body": [{"type": "para", "indent": 4, "text": ["Specifies the path to the KineFX Rest skeleton that will provide the rest transform."], "extent": [27028, 27118]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Deformation Style"]}, " is set to ", {"type": "ui", "text": ["Use BoneCapture Weights"]}, "."], "extent": [27118, 27223]}], "container": true, "attrs": {"id": "rigrestpath"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Point Deform "], "extent": [27223, 27244], "body": [{"type": "para", "indent": 4, "text": ["You can use the parameters in the ", {"type": "ui", "text": ["Deform"]}, " tab > Point Deform section to adjust the point deform parameters. For the purposes of the muscle solver, only the regions on your muscles that are designated as Muscle End regions are significant. These regions act as target constraint regions."], "extent": [27244, 27540]}, {"type": "para", "indent": 4, "text": ["Muscles are deformed in this node by a Point Deform SOP so that muscle firing can be viewed ", {"type": "q", "text": ["in context"]}, " with proxy animation. The animated output of this node is ignored by the solver otherwise. There is one exception to this notion however. In the Muscle Solver Vellum SOP, Muscle End Constraints have two possible modes of attaching muscles to the animation source. They can either attach to the nearest bone geometry (see the Muscle Constraint Properties SOP > Muscle to Bone tab), or the muscle ends can act more like ", {"type": "q", "text": ["Pin To Animation"]}, " constraints by treating their animated positions as targets. In the latter case, the proxy animation being output by this node can be used as the animation source."], "extent": [27540, 28251]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Radius"], "extent": [28485, 28497], "body": [{"type": "para", "indent": 8, "text": ["The maximum search radius for point influence. See ", {"scheme": "Icon", "value": "/icons/SOP/pointdeform.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/pointdeform.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/pointdeform", "type": "link", "text": ["Point Deform"], "fullpath": "/nodes/sop/pointdeform.html"}, "."], "extent": [28526, 28661]}], "container": true, "attrs": {"id": "radius"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Minimum Points"], "extent": [28661, 28681], "body": [{"type": "para", "indent": 8, "text": ["The minimum number of points to find for point influence. See ", {"scheme": "Icon", "value": "/icons/SOP/pointdeform.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/pointdeform.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/pointdeform", "type": "link", "text": ["Point Deform"], "fullpath": "/nodes/sop/pointdeform.html"}, "."], "extent": [28709, 28855]}], "container": true, "attrs": {"id": "minpt"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Maximum Points"], "extent": [28855, 28875], "body": [{"type": "para", "indent": 8, "text": ["The maximum number of points to find for point influence. See ", {"scheme": "Icon", "value": "/icons/SOP/pointdeform.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/pointdeform.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/pointdeform", "type": "link", "text": ["Point Deform"], "fullpath": "/nodes/sop/pointdeform.html"}, "."], "extent": [28903, 29045]}], "container": true, "attrs": {"id": "maxpt"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Rigid Projection"], "extent": [29045, 29067], "body": [{"type": "para", "indent": 8, "text": ["When on, removes any shear that may be included in the computed local transforms leaving only a rigid transform. See ", {"scheme": "Icon", "value": "/icons/SOP/pointdeform.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/pointdeform.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/pointdeform", "type": "link", "text": ["Point Deform"], "fullpath": "/nodes/sop/pointdeform.html"}, "."], "extent": [29097, 29294]}], "container": true, "attrs": {"id": "rigidprojection"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Recompute Affected Normals"], "extent": [29294, 29326], "body": [{"type": "para", "indent": 8, "text": ["When on, any normals that are affected by tetrahedra with both deformed and undeformed points are automatically recomputed. See ", {"scheme": "Icon", "value": "/icons/SOP/pointdeform.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/pointdeform.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/pointdeform", "type": "link", "text": ["Point Deform"], "fullpath": "/nodes/sop/pointdeform.html"}, "."], "extent": [29362, 29570]}], "container": true, "attrs": {"id": "updateaffectednormals"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Bypass Tension Lines Deformation"], "extent": [29570, 29608], "body": [{"type": "para", "indent": 8, "text": ["When on, uses the positions of the lines as is. Use this when MuscleTension Lines are animatated or deformed externally."], "extent": [29639, 29769]}], "container": true, "attrs": {"id": "animtensionlines"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable Delta Mush"], "extent": [29769, 29792], "body": [{"type": "para", "indent": 8, "text": ["When on, the node will try to preserve the shape of the muscles when applying the point deform. See ", {"scheme": "Icon", "value": "/icons/SOP/deltamush.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/deltamush.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/deltamush", "type": "link", "text": ["Delta Mush"], "fullpath": "/nodes/sop/deltamush.html"}, "."], "extent": [29830, 30008]}], "container": true, "attrs": {"id": "enabledeltamush"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Delta Mush Iterations"], "extent": [30008, 30035], "body": [{"type": "para", "indent": 8, "text": ["Specifies the number of smoothing iterations to apply to the muscles. The higher the number of iterations, the smoother results."], "extent": [30077, 30215]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Enable Delta Mush"]}, " is turned on. See ", {"scheme": "Icon", "value": "/icons/SOP/deltamush.svg", "type": "link", "text": "", "fullpath": "/icons/SOP/deltamush.svg.html"}, " ", {"scheme": "Node", "value": "/nodes/sop/deltamush", "type": "link", "text": ["Delta Mush"], "fullpath": "/nodes/sop/deltamush.html"}, "."], "extent": [30215, 30367]}], "container": true, "attrs": {"id": "deltamushiterations"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Bone Geometry "], "extent": [30367, 30389], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["T-Pose Source"], "extent": [30389, 30409], "body": [{"type": "para", "indent": 8, "text": ["Specifies where the rest pose that is used for the point deform is derived from. "], "extent": [30443, 30542]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Use Initialization Frame"], "extent": [30542, 30589], "body": [{"type": "para", "indent": 12, "text": ["Timeshift the animation source to the ", {"type": "ui", "text": ["Initialization Frame"]}, " and use the geometry frozen at that frame as the rest pose for the capture position."], "extent": [30589, 30766]}], "container": true}, {"type": "dt", "indent": 8, "text": ["From Attribute"], "extent": [30766, 30803], "body": [{"type": "para", "indent": 12, "text": ["Use the ", {"type": "ui", "text": ["T-Pose Attribute"]}, " as the rest pose for the capture position. This setting is useful when bones appear offset from muscles despite being in t-pose at frame 1 because the bones are not positioned at the origin. "], "extent": [30803, 31042]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "tposeswitch"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Initialization Frame"], "extent": [31042, 31068], "body": [{"type": "para", "indent": 8, "text": ["Specifies the frame (time) to hold or freeze the animated source geometry at and then use as the rest pose."], "extent": [31101, 31218]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["T-Pose"]}, " is set to ", {"type": "ui", "text": ["Use Initialization Frame"]}, "."], "extent": [31218, 31320]}], "container": true, "attrs": {"id": "tposeframe"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["T-Pose Attribute"], "extent": [31320, 31342], "body": [{"type": "para", "indent": 8, "text": ["The name of the point attribute (from this node\u2019s second input) that specifies the rest pose for the capture position."], "extent": [31376, 31504]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["T-Pose"]}, " is set to ", {"type": "ui", "text": ["From Attribute"]}, "."], "extent": [31504, 31592]}], "container": true, "attrs": {"id": "tposeattrib"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Display"], "extent": [31592, 31606], "body": [{"type": "para", "indent": 0, "text": ["These parameters determine how the muscle flex deformations appear in this node\u2019s viewport state."], "extent": [31606, 31706]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Muscle Tension Visualizer"], "extent": [31706, 31733], "body": [{"type": "para", "indent": 4, "text": ["When on, a color visualizer is applied to the ", {"type": "code", "text": ["muscletension"]}, " attribute as it is animated by the ", {"scheme": null, "value": "#muscleflex", "type": "link", "text": ["Muscle Flex"], "fullpath": "/nodes/sop/muscleflex-.html#muscleflex", "fragment": "#muscleflex"}, " parameters. Gray indicates low muscle tension and red indicates high muscle tension."], "extent": [31760, 31973]}], "container": true, "attrs": {"id": "vizmuscletension"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Bone Geometry"], "extent": [31973, 31988], "body": [{"type": "para", "indent": 4, "text": ["When on, the animation source geometry (from the second input on this node) is visible in the viewport state. This is most often the animated bone geometry."], "extent": [32011, 32173]}], "container": true, "attrs": {"id": "displayguide"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Bone Color"], "extent": [32173, 32185], "body": [{"type": "para", "indent": 4, "text": ["Sets the RBG color of the ", {"type": "ui", "text": ["Bone Geometry"]}, " in the viewport state."], "extent": [32205, 32277]}], "container": true, "attrs": {"id": "bonecolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Muscle Tension Lines"], "extent": [32277, 32299], "body": [{"type": "para", "indent": 4, "text": ["When on, the muscle tension lines (from the third input on this node) appear in the viewport state."], "extent": [32322, 32431]}], "container": true, "attrs": {"id": "displaylines"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [32431, 32439], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Input 1"], "extent": [32439, 32449], "body": [{"type": "para", "indent": 4, "text": ["Solid muscle geometry."], "extent": [32449, 32477]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Input 2"], "extent": [32477, 32486], "body": [{"type": "para", "indent": 4, "text": ["Animation source geometry (often the animated bone geometry) and preroll."], "extent": [32486, 32565]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Input 3"], "extent": [32565, 32574], "body": [{"type": "para", "indent": 4, "text": ["Muscle tension lines (", {"type": "code", "text": ["autoflex_id"]}, ", ", {"type": "code", "text": ["length"]}, ", ", {"type": "code", "text": ["restlength"]}, ")."], "extent": [32574, 32641]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [32641, 32650], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Output 1"], "extent": [32650, 32661], "body": [{"type": "para", "indent": 4, "text": ["Solid muscle geometry with animated ", {"type": "code", "text": ["muscletension"]}, ". "], "extent": [32661, 32724]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [32724, 32733], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/muscletensionlines", "type": "link", "text": "", "fullpath": "/nodes/sop/muscletensionlines.html"}], "extent": [32733, 32766]}], "container": true}], "text": "Related"}], "title": ["Muscle Flex"], "summary": ["Activates and animates the contraction and relaxation of input solid muscle geometry."]}
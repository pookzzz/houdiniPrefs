{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "karmaprocedural", "icon": "LOP/karmaprocedural", "tags": "procedurals", "status": "deprecated", "since": "18.0", "index": "no", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Karma Procedural"], "extent": [0, 21]}, {"type": "summary", "indent": 0, "text": ["Sets up render-time instantiation for Karma."], "extent": [165, 217]}, {"type": "warning_group", "body": [{"ext": null, "type": "warning", "indent": 0, "text": ["Deprecated"], "role": "item", "extent": [217, 238], "body": [{"type": "para", "indent": 4, "text": ["The ", {"type": "ui", "text": ["Karma Procedural LOP"]}, " is now deprecated. Use ", {"scheme": "Node", "value": "/nodes/lop/houdinicrowdprocedural", "type": "link", "text": ["Houdini Procedural: Crowd LOP"], "fullpath": "/nodes/lop/houdinicrowdprocedural.html"}, ", ", {"scheme": "Node", "value": "/nodes/lop/houdinifeatherprocedural", "type": "link", "text": ["Houdini Procedural: Feather LOP"], "fullpath": "/nodes/lop/houdinifeatherprocedural.html"}, ", ", {"scheme": "Node", "value": "/nodes/lop/houdinioceanprocedural", "type": "link", "text": ["Houdini Procedural: Ocean LOP"], "fullpath": "/nodes/lop/houdinioceanprocedural.html"}, ", ", {"scheme": "Node", "value": "/nodes/lop/houdinirbdprocedural", "type": "link", "text": ["Houdini Procedural: RBD LOP"], "fullpath": "/nodes/lop/houdinirbdprocedural.html"}, "."], "extent": [238, 555]}], "container": true}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [555, 570], "body": [{"type": "para", "indent": 0, "text": ["This is a reference implementation of how to do render-time instantiation in Karma. This creates a prim with the proper attributes to instruct Karma to replace geometry points with instanced geometry at render time."], "extent": [570, 789]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["How to"], "extent": [789, 802], "body": [{"type": "ord_group", "body": [{"blevel": 2, "type": "ord", "indent": 0, "text": ["In the network editor, double-click this node to dive into the SOP subnet inside."], "extent": [802, 888]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the SOP subnet, build a network that creates points at positions where you want render-time geometry to appear."], "extent": [888, 1006], "body": [{"type": "para", "indent": 4, "text": ["You can create named point groups in the SOP geometry if you want to instantiate the same thing on multiple points."], "extent": [1006, 1127]}], "container": true}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the network editor, press ", {"keys": ["U"], "type": "keys", "text": null}, " to go back up to the LOP network."], "extent": [1127, 1199]}, {"blevel": 2, "type": "ord", "indent": 0, "text": ["In the Karma Procedural node\u2019s parameters, set what to instantiate on each point (or group of points)."], "extent": [1199, 1306]}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [1306, 1317], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["In VEX snippets, you can use ", {"type": "code", "text": ["@"]}, " variable names containing colons (", {"type": "code", "text": [":"]}, "). This makes it easier to automatically bind certain USD attribute names (for example ", {"type": "code", "text": ["i@primvars:foo"]}, "). (These names are not normally legal in names in VEX source code. The node automatically encodes these kinds of names when used in a snippet.)"], "extent": [16, 335]}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1345, 1357], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Primitive Path"], "extent": [1357, 1374], "body": [{"type": "para", "indent": 4, "text": ["Create a primitive at this path in the scene graph tree. This creates an ", {"type": "code", "text": ["Xform"]}, " prim with attributes that tell Karma what to do at render time. The ", {"type": "code", "text": ["Xform"]}, " prim contains the generated point geometry as a USD ", {"type": "code", "text": ["Points"]}, " prim."], "extent": [1374, 1603]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Procedurals"], "extent": [1603, 1616], "body": [{"type": "para", "indent": 4, "text": ["This node can create multiple render-time point replacements. Set the number of replacements, or click the plus and minus buttons to add or remove replacements."], "extent": [1616, 1782]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [1782, 1789], "body": [{"type": "para", "indent": 4, "text": ["Specify the points in the generated geometry you want to replace. This can be the name of a point group, or space-separated ", {"scheme": null, "value": "/model/groups", "type": "link", "text": ["group syntax"], "fullpath": "/model/groups.html"}, ". For example, ", {"type": "code", "text": ["0 1 2 5-7"]}, " to select points by point number."], "extent": [1789, 2007]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Type"], "extent": [2007, 2013], "body": [{"type": "para", "indent": 4, "text": ["What to replace the selected points with at render time."], "extent": [2013, 2075]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Sphere"], "extent": [2075, 2087], "body": [{"type": "para", "indent": 8, "text": ["Replace the points with spheres."], "extent": [2087, 2129]}], "container": true}, {"type": "dt", "indent": 4, "text": ["File"], "extent": [2129, 2139], "body": [{"type": "para", "indent": 8, "text": ["Replace each point with geometry loaded from a file. Karma supports loading all file formats understood by Houdini."], "extent": [2139, 2264]}], "container": true}, {"type": "dt", "indent": 4, "text": ["VDB Iso Surface"], "extent": [2264, 2285], "body": [{"type": "para", "indent": 8, "text": ["Replace each point with a VDB iso-surface loaded from a file."], "extent": [2285, 2356]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Radius"], "extent": [2356, 2364], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Type"]}, " is ", {"type": "ui", "text": ["Sphere"]}, ", the radius of the sphere. If the point has ", {"type": "code", "text": ["scale"]}, " or ", {"type": "code", "text": ["pscale"]}, " SOP attributes, those values are multiplied by this. If you turn this off, the default radius is ", {"type": "code", "text": ["1"]}, "."], "extent": [2364, 2563]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use VEXpressions"], "extent": [2563, 2581], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Type"]}, " is ", {"type": "ui", "text": ["Sphere"]}, ", set the radius of each sphere using a VEX snippet. Write the radius into the ", {"type": "code", "text": ["radius"]}, " float variable. You can use the variables typically available to an ", {"scheme": "Node", "value": "/nodes/sop/attribwrangle", "type": "link", "text": ["Attribute Wrangle SOP"], "fullpath": "/nodes/sop/attribwrangle.html"}, ". The current point number is available as ", {"type": "code", "text": ["@ptnum"]}, "."], "extent": [2607, 2894]}], "container": true, "attrs": {"id": "useradiussnippet"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Color"], "extent": [2894, 2901], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Type"]}, " is ", {"type": "ui", "text": ["Sphere"]}, ", set the ", {"type": "code", "text": ["displayColor"]}, " of each sphere. If the point has a ", {"type": "code", "text": ["Cd"]}, " SOP attribute, that value is multiplied by this. If you turn this off, the default color is ", {"type": "code", "text": ["1.0, 1.0, 1.0"]}, "."], "extent": [2901, 3107]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use VEXpressions"], "extent": [3107, 3125], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Type"]}, " is ", {"type": "ui", "text": ["Sphere"]}, ", set the color of each sphere using a VEX snippet. Write the radius into the ", {"type": "code", "text": ["color"]}, " vector variable. You can use the variables typically available to an ", {"scheme": "Node", "value": "/nodes/sop/attribwrangle", "type": "link", "text": ["Attribute Wrangle SOP"], "fullpath": "/nodes/sop/attribwrangle.html"}, ". The current point number is available as ", {"type": "code", "text": ["@ptnum"]}, "."], "extent": [3151, 3437]}], "container": true, "attrs": {"id": "usecolorsnippet"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["File"], "extent": [3437, 3443], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Type"]}, " is ", {"type": "ui", "text": ["File"]}, ", the file path to the geometry file to instantiate at render time. Karma supports loading all file formats understood by Houdini."], "extent": [3443, 3604]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["VDB File"], "extent": [3604, 3614], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Type"]}, " is ", {"type": "ui", "text": ["VDB Iso Surface"]}, ", the file path to the VDB file to instantiate at render time."], "extent": [3614, 3719]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3719, 3728], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/lop/karma", "type": "link", "text": "", "fullpath": "/nodes/lop/karma.html"}], "extent": [3728, 3747]}], "container": true}], "text": "Related"}], "title": ["Karma Procedural"], "summary": ["Sets up render-time instantiation for Karma."], "included": ["/nodes/lop/_snippet_token"]}
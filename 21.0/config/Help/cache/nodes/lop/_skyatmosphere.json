{"type": "root", "attrs": {"type": "include"}, "body": [{"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 0, "role": "item", "extent": [16, 22], "body": [{"level": 3, "type": "sep", "indent": 4, "text": [" Rayleigh "], "extent": [48, 69]}, {"type": "para", "indent": 4, "text": ["Rayleigh scattering models light interacting with air molecules to give Earth\u2019s sky its signature blue color at daytime and orange color at sunrise/sunset. Below you can see the effect of Rayleigh scattering with change in Sun\u2019s elevation."], "extent": [69, 315]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_rayleigh.jpg", "type": "img", "text": ""}], "extent": [315, 378]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Scatter"], "extent": [378, 391], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Scale"]}, " and creates a Rayleigh scattering coefficient for each color channel representing the amount of light that is scattered by pure air."], "extent": [417, 601]}], "container": true, "attrs": {"id": "rayleighcol"}}, {"type": "dt", "indent": 4, "text": ["Scale"], "extent": [601, 612], "body": [{"type": "para", "indent": 8, "text": ["Multiplier for Rayleigh ", {"type": "ui", "text": ["Scatter"]}, "."], "extent": [640, 686]}], "container": true, "attrs": {"id": "rayleighscale"}}, {"type": "dt", "indent": 4, "text": ["Distribution"], "extent": [686, 704], "body": [{"type": "para", "indent": 8, "text": ["Controls, how fast the air density falls off with increasing altitude. This parameter is measured in kilometers and multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, ". For example, with the default of ", {"type": "code", "text": ["8"]}, " km and a ", {"type": "ui", "text": ["Unit Scale"]}, " of ", {"type": "code", "text": ["1000"]}, ", air density is 37% at 8000 units above sea level."], "extent": [731, 1008]}, {"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Distribution"]}, " uses Nishita\u2019s exponential decay model (referred to as ", {"type": "q", "text": ["Scale Height"]}, " in literature) for calculating air density."], "extent": [1008, 1148]}], "container": true, "attrs": {"id": "rayleighdist"}}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" Mie "], "extent": [1148, 1164]}, {"type": "para", "indent": 4, "text": ["Mie scattering/absorption models large aerosols in air such as water or dust particles creating smoggy haze and haloing around light sources such as the Sun. Below you can see the how a scene looks without (left) and with (right) Mie scattering."], "extent": [1164, 1416]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_mie.jpg", "type": "img", "text": ""}], "extent": [1416, 1474]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Scatter"], "extent": [1474, 1487], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Scale"]}, " and creates a Mie scattering coefficient for each color channel representing the amount of light that is scattered by aerosols."], "extent": [1515, 1694]}], "container": true, "attrs": {"id": "miescattercol"}}, {"type": "dt", "indent": 4, "text": ["Scatter Scale"], "extent": [1694, 1713], "body": [{"type": "para", "indent": 8, "text": ["Multiplier for Mie ", {"type": "ui", "text": ["Scatter"]}, "."], "extent": [1743, 1784]}], "container": true, "attrs": {"id": "miescatterscale"}}, {"type": "dt", "indent": 4, "text": ["Absorption"], "extent": [1784, 1800], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Absorption Scale"]}, " and creates a Mie absorption coefficient for each color channel representing the amount of light that is absorbed by aerosols."], "extent": [1827, 2016]}], "container": true, "attrs": {"id": "mieabsorpcol"}}, {"type": "dt", "indent": 4, "text": ["Absorption Scale"], "extent": [2016, 2038], "body": [{"type": "para", "indent": 8, "text": ["Multiplier for Mie ", {"type": "ui", "text": ["Absorption"]}, "."], "extent": [2067, 2111]}], "container": true, "attrs": {"id": "mieabsorpscale"}}, {"type": "dt", "indent": 4, "text": ["Distribution"], "extent": [2111, 2129], "body": [{"type": "para", "indent": 8, "text": [{"type": "ui", "text": ["Distribution"]}, " uses Nishita\u2019s exponential decay model (referred to as ", {"type": "q", "text": ["Scale Height"]}, " in literature) for calculating air density."], "extent": [2429, 2569]}], "container": true, "attrs": {"id": "miedist"}}, {"type": "dt", "indent": 4, "text": ["Phase"], "extent": [2569, 2580], "body": [{"type": "para", "indent": 8, "text": ["Phase ranges from ", {"type": "code", "text": ["-1"]}, " to ", {"type": "code", "text": ["1"]}, " and covers full back scatter to full forward scatter. Scattering represents the atmosphere\u2019s anisotropy. Aniostropy means that rays don\u2019t propagate evenly in all directions."], "extent": [2603, 2816]}], "container": true, "attrs": {"id": "miephase"}}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" Ozone "], "extent": [2816, 2834]}, {"type": "para", "indent": 4, "text": ["The ozone layer is an additional absorption layer that contributes to the deep blue tint of the Earth\u2019s sky, particularly near sunrise/sunset. Here\u2019s a scene without (left) and with (right) ozone absorption."], "extent": [2834, 3048]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_ozone.jpg", "type": "img", "text": ""}], "extent": [3048, 3108]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Absorption"], "extent": [3108, 3124], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Scale"]}, " and creates an ozone absorption coefficient for each color channel representing the amount of light that is scattered by the ozone layer."], "extent": [3153, 3342]}], "container": true, "attrs": {"id": "extraabsorpcol"}}, {"type": "dt", "indent": 4, "text": ["Scale"], "extent": [3342, 3353], "body": [{"type": "para", "indent": 8, "text": ["Multiplier for ozone ", {"type": "ui", "text": ["Absorption"]}, "."], "extent": [3384, 3430]}], "container": true, "attrs": {"id": "extraabsorpscale"}}, {"type": "dt", "indent": 4, "text": ["Altitude"], "extent": [3430, 3444], "body": [{"type": "para", "indent": 8, "text": ["The maximum ozone density/absorption is reached at the parameter\u2019s value given in kilometers measured from the Earth\u2019s surface. The value is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, ". For example, at an ", {"type": "ui", "text": ["Altitude"]}, " of ", {"type": "code", "text": ["8"]}, " km and a ", {"type": "ui", "text": ["Unit Scale"]}, " of ", {"type": "code", "text": ["1000"]}, ", the final value will be ", {"type": "code", "text": ["8000"]}, "."], "extent": [3472, 3758]}], "container": true, "attrs": {"id": "extraaltitude"}}, {"type": "dt", "indent": 4, "text": ["Width"], "extent": [3758, 3769], "body": [{"type": "para", "indent": 8, "text": ["This value indicates the total height range in kilometers at which ozone absorbs (sun)light. Absorption reaches its maximum at the ", {"type": "ui", "text": ["Altitude"]}, " parameter\u2019s value. Note, that ", {"type": "ui", "text": ["Width"]}, " is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, ". For example, when ", {"type": "ui", "text": ["Width"]}, " is ", {"type": "code", "text": ["10"]}, " km and ", {"type": "ui", "text": ["Unit Scale"]}, " is ", {"type": "code", "text": ["1000"]}, ", the final value will be ", {"type": "code", "text": ["10000"]}, "."], "extent": [3794, 4122]}], "container": true, "attrs": {"id": "extrawidth"}}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" Ground "], "extent": [4122, 4141]}, {"type": "para", "indent": 4, "text": ["A scene without (left) and with (right) ground albedo."], "extent": [4141, 4202]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_ground.jpg", "type": "img", "text": ""}], "extent": [4202, 4263]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Ground Albedo"], "extent": [4263, 4282], "body": [{"type": "para", "indent": 8, "text": ["The ground reflectivity that affects the sky color (when multiple scattering is turned on), as well as its appearance in primary and bounce rays."], "extent": [4309, 4464]}], "container": true, "attrs": {"id": "groundalbedo"}}, {"type": "dt", "indent": 4, "text": ["Ground Visibility"], "extent": [4464, 4487], "body": [{"type": "para", "indent": 8, "text": ["Controls visibility of the ground depending on different types of rays. For instance, you may not want the ground to be visible in the camera, but still want the sky and indirect bounce rays from underside of clouds (and other geometry) to be affected by the ground color. You can use one of the following expressions"], "extent": [4518, 4845]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": [{"type": "code", "text": ["*"]}], "extent": [4845, 4858], "body": [{"type": "para", "indent": 12, "text": ["Visible to both primary and indirect bounce rays."], "extent": [4858, 4920]}], "container": true}, {"type": "dt", "indent": 8, "text": [{"type": "code", "text": ["primary"]}], "extent": [4920, 4939], "body": [{"type": "para", "indent": 12, "text": ["Visible to primary rays only."], "extent": [4939, 4981]}], "container": true}, {"type": "dt", "indent": 8, "text": [{"type": "code", "text": ["-primary"]}], "extent": [4981, 5001], "body": [{"type": "para", "indent": 12, "text": ["Visible to indirect bounce rays only."], "extent": [5001, 5052]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "groundvisibility"}}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" Geometry "], "extent": [5052, 5073]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Planet Center"], "extent": [5073, 5093], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " and represents the position where the planetary atmosphere is centered around. ", {"type": "ui", "text": ["Planet Center"]}, " is measured in kilometers."], "extent": [5120, 5300]}], "container": true, "attrs": {"id": "planetcenter"}}, {"type": "dt", "indent": 4, "text": ["Sea Level"], "extent": [5300, 5315], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " and represents the distance from the ", {"type": "ui", "text": ["Planet Center"]}, " in which the atmosphere starts. ", {"type": "ui", "text": ["Sea Level"]}, " is measured in kilometers."], "extent": [5338, 5522]}], "container": true, "attrs": {"id": "sealevel"}}, {"type": "dt", "indent": 4, "text": ["Unit Scale"], "extent": [5522, 5538], "body": [{"type": "para", "indent": 8, "text": ["Multiplier to every parameter in ", {"type": "ui", "text": ["Karma Sky Atmosphere"]}, " that represents position or distance."], "extent": [5562, 5667]}], "container": true, "attrs": {"id": "unitscale"}}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" Sampling "], "extent": [5667, 5688]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["LPE Tag"], "extent": [5688, 5702], "body": [{"type": "para", "indent": 8, "text": ["Custom label assigned to atmospheric volume for use with ", {"scheme": null, "value": "/render/lpe", "type": "link", "text": ["light path expression"], "fullpath": "/render/lpe.html"}, "."], "extent": [5736, 5839]}], "container": true, "attrs": {"id": "karma:object:lpetag"}}, {"type": "dt", "indent": 4, "text": ["Minimum Stepsize"], "extent": [5839, 5861], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " and represents the minimum distance between samples when marching through atmosphere. Reducing this parameter can help eliminate banding artifacts when modeling a particularly thick atmosphere, but at extra cost."], "extent": [5887, 6156]}], "container": true, "attrs": {"id": "stepsizemin"}}, {"type": "dt", "indent": 4, "text": ["Maximum Stepsize"], "extent": [6156, 6178], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " represents the maximum distance between samples when marching through atmosphere. We recommend leaving ", {"type": "ui", "text": ["Maximum Stepsize"]}, " at 5 to 10 times the value of ", {"type": "ui", "text": ["Minimum Stepsize"]}, "."], "extent": [6204, 6436]}], "container": true, "attrs": {"id": "stepsizemax"}}, {"type": "dt", "indent": 4, "text": ["Multi Scatter Limit"], "extent": [6436, 6461], "body": [{"type": "para", "indent": 8, "text": ["Specifies, how often an atmospheric ray can propagate through the atmosphere. "], "extent": [6500, 6588]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [6588, 6602], "body": [{"type": "para", "indent": 12, "text": ["Increasing depth will impact render times. A depth of ", {"type": "code", "text": ["1"]}, " or ", {"type": "code", "text": ["2"]}, " is typically enough for the realistic appearance of a clear sky on Earth, with diminishing returns beyond that. A limit of ", {"type": "code", "text": ["1"]}, " or greater is required if ", {"type": "ui", "text": ["Ground Albedo"]}, " should have an effect on the color of the sky."], "extent": [6602, 6898]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "karma:object:volumelimit"}}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" Advanced "], "extent": [6898, 6919]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Internal Color Space"], "extent": [6919, 6946], "body": [{"type": "para", "indent": 8, "text": ["Scatter and absorption coefficients are interpreted in the ", {"scheme": null, "value": "/solaris/ocio", "type": "link", "text": ["OpenColorIO"], "fullpath": "/solaris/ocio.html"}, " color space specified by this parameter, and transformed into ", {"type": "code", "text": ["scene_linear"]}, " (i.e. working space) when computing transmittance. Leave it empty to apply no transformation. This can help in preserving the look if the lookdev for the atmosphere was done in a different color space than the project\u2019s working space (however, due to the nature of RGB rendering, it can never be an exact match)."], "extent": [6969, 7455]}], "container": true, "attrs": {"id": "ociofrom"}}, {"type": "dt", "indent": 4, "text": ["LUT Resolution"], "extent": [7455, 7475], "body": [{"type": "para", "indent": 8, "text": ["X and Y resolution for the transmittance table. The X axis corresponds to the light angle, and the Y axis corresponds to the viewer\u2019s altitude. With appropriate settings, there is no need to deviate from the default settings. An exception is if there are huge differences between the ", {"type": "ui", "text": ["Distribution"]}, " or ozone ", {"type": "ui", "text": ["Altitude"]}, " parameters. In this case it can help to increase the Y resolution to avoid bias."], "extent": [7496, 7909]}], "container": true, "attrs": {"id": "lutdim"}}, {"type": "dt", "indent": 4, "text": ["Ground Offset"], "extent": [7909, 7928], "body": [{"type": "para", "indent": 8, "text": ["Distance between ground level and sea level. Ground is modeled as a sphere with radius calculated as ", {"type": "code", "text": ["Sea Level - Ground Offset"]}, ". You can set this parameter to values greater than zero to lower the ground and avoid discontinuity artifacts from objects crossing ground level. As a consequence, you\u2019ll see a vacuum between the atmosphere and the ground which may be noticeable near horizon. We recommend leaving this parameter at ", {"type": "code", "text": ["0"]}, " and keeping the rest of the scene above ", {"type": "ui", "text": ["Sea Level"]}, " instead."], "extent": [7955, 8459]}], "container": true, "attrs": {"id": "groundoffset"}}, {"type": "dt", "indent": 4, "text": ["Ground Receives Shadows"], "extent": [8459, 8488], "body": [{"type": "para", "indent": 8, "text": ["Allow ground elements to receive shadows (i.e. cast shadow rays)."], "extent": [8522, 8597]}], "container": true, "attrs": {"id": "groundreceiveshadow"}}, {"type": "dt", "indent": 4, "text": ["Render Backside Atmosphere"], "extent": [8597, 8629], "body": [{"type": "para", "indent": 8, "text": ["Allows rendering of the atmosphere on the other side of the planet."], "extent": [8658, 8735]}], "container": true, "attrs": {"id": "renderbackside"}}, {"type": "dt", "indent": 4, "text": ["Solid Alpha in IPR"], "extent": [8735, 8759], "body": [{"type": "para", "indent": 8, "text": ["Set alpha to ", {"type": "code", "text": ["1"]}, " in IPR mode. Turned on by default to avoid misleading appearance due to compositing against light viewport background."], "extent": [8789, 8932]}], "container": true, "attrs": {"id": "solidalphainipr"}}], "container": true}], "container": true, "attrs": {"id": "parameter_block"}}], "container": true, "role": "item_group"}]}
{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "agentterrainprojection", "icon": "CROWDS/agentterrainprojection", "tags": "crowds", "since": "14.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Agent Terrain Projection"], "extent": [125, 154]}, {"type": "summary", "indent": 0, "text": ["Projects the agent/particle points onto the terrain."], "extent": [154, 215]}, {"type": "para", "indent": 0, "text": ["This node projects agents/particles onto the terrain."], "extent": [215, 270]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [270, 282], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Activation"], "extent": [282, 295], "body": [{"type": "para", "indent": 4, "text": [{"type": "code", "text": ["1"]}, " activates the node. ", {"type": "code", "text": ["0"]}, " deactivates the node."], "extent": [311, 366]}], "container": true, "attrs": {"id": "enable"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [366, 373], "body": [{"type": "para", "indent": 4, "text": ["The group of agents this node affects."], "extent": [392, 436]}], "container": true, "attrs": {"id": "partgroup"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Terrain Source"], "extent": [436, 452], "body": [{"type": "para", "indent": 4, "text": ["The source for the terrain object (SOP path or DOP object)."], "extent": [475, 540]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["SOP"], "extent": [540, 549], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP specified in the ", {"type": "ui", "text": ["SOP Path"]}, " parameter."], "extent": [549, 611]}], "container": true}, {"type": "dt", "indent": 4, "text": ["DOP Data"], "extent": [611, 625], "body": [{"type": "para", "indent": 8, "text": ["Use the DOP specified in the ", {"type": "ui", "text": ["Terrain Object"]}, " parameter."], "extent": [625, 693]}], "container": true}, {"type": "dt", "indent": 4, "text": ["First Context Geometry"], "extent": [693, 721], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s first input."], "extent": [721, 786]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Second Context Geometry"], "extent": [786, 815], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s second input."], "extent": [815, 881]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Third Context Geometry"], "extent": [881, 909], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s third input."], "extent": [909, 974]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Fourth Context Geometry"], "extent": [974, 1003], "body": [{"type": "para", "indent": 8, "text": ["Use the SOP connected to the DOP network\u2019s fourth input."], "extent": [1003, 1069]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "terrainsource"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["SOP Path"], "extent": [1069, 1079], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Terrain Source"]}, " is set to ", {"type": "ui", "text": ["SOP"]}, ", this is the path to the SOP."], "extent": [1103, 1180]}], "container": true, "attrs": {"id": "terrainsoppath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Terrain Object"], "extent": [1180, 1196], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Terrain Source"]}, " is set to ", {"type": "ui", "text": ["DOP Data"]}, ", this is the DOP object to use as the terrain geometry. This can also be specified as an object/data path for using specific geometry data that is attached to an object, for example, ", {"type": "code", "text": ["popobject/Geometry"]}, ". "], "extent": [1219, 1477]}], "container": true, "attrs": {"id": "terrainobject"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Terrain Group"], "extent": [1477, 1492], "body": [{"type": "para", "indent": 4, "text": ["The primitives in the terrain geometry to use for ray intersections."], "extent": [1514, 1588]}], "container": true, "attrs": {"id": "terraingroup"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [1588, 1594], "body": [{"type": "para", "indent": 4, "text": ["The direction of the terrain projection."], "extent": [1608, 1654]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Direction Vector"], "extent": [1654, 1676], "body": [{"type": "para", "indent": 8, "text": ["Use the direction specified in ", {"type": "ui", "text": ["Direction"]}, "."], "extent": [1676, 1731]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Up Attribute"], "extent": [1731, 1749], "body": [{"type": "para", "indent": 8, "text": ["Use the agent\u2019s ", {"type": "code", "text": ["up"]}, " attribute."], "extent": [1749, 1790]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "mode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Direction"], "extent": [1790, 1801], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Mode"]}, " is set to ", {"type": "ui", "text": ["Direction Vector"]}, ", this is the direction of the terrain projection."], "extent": [1824, 1924]}], "container": true, "attrs": {"id": "projectiondir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sampling Method"], "extent": [1924, 1941], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether to cast a single ray from the agent\u2019s point (", {"type": "ui", "text": ["Particle"]}, "), or cast a ray from each of the agent\u2019s legs (", {"type": "ui", "text": ["Foot"]}, ")."], "extent": [1965, 2104]}], "container": true, "attrs": {"id": "samplingmethod"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sample From Agent\u2019s Plane"], "extent": [2104, 2131], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Sampling Method"]}, " is set to ", {"type": "ui", "text": ["Foot"]}, ", projects the foot positions onto the plane defined by the agent\u2019s position and the ", {"type": "ui", "text": ["Direction"]}, " vector before casting rays.\n    This produces results that are consistent with the ", {"type": "ui", "text": ["Particle"]}, " sampling method if the agent is on flat terrain.\n    If this option is turned off, the agent is lowered by the average distance of each foot from the terrain."], "extent": [2155, 2557]}], "container": true, "attrs": {"id": "projectsamples"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Offset"], "extent": [2557, 2565], "body": [{"type": "para", "indent": 4, "text": ["An additional offset that shifts all the agents up or down."], "extent": [2581, 2646]}], "container": true, "attrs": {"id": "offset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Project Forces"], "extent": [2646, 2662], "body": [{"type": "para", "indent": 4, "text": ["When turned on, projects the ", {"type": "code", "text": ["force"]}, " point attribute onto the plane defined by the terrain normal."], "extent": [2662, 2766]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Normal Attribute"], "extent": [2766, 2784], "body": [{"type": "para", "indent": 4, "text": ["When turned on, outputs the specified attribute, which indicates the normal of the terrain geometry underneath the agent."], "extent": [2784, 2911]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prim Num Attribute"], "extent": [2911, 2931], "body": [{"type": "para", "indent": 4, "text": ["When turned on, outputs the specified attribute, which indicates the primitive that the agent is projected onto in the terrain geometry."], "extent": [2931, 3073]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prim UVW Attribute"], "extent": [3073, 3093], "body": [{"type": "para", "indent": 4, "text": ["When turned on, adds the specified attribute with the coordinates of where the agent is projected onto the terrain geometry."], "extent": [3093, 3223]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Offset Attribute"], "extent": [3223, 3241], "body": [{"type": "para", "indent": 4, "text": ["When turned on, adds the specified attribute with the agent\u2019s offset from the terrain (according to the ", {"type": "ui", "text": ["Mode"]}, ", ", {"type": "ui", "text": ["Sampling Method"]}, ", and ", {"type": "ui", "text": ["Offset"]}, " parameters).\n    This can be used in combination with the primitive number and UV coordinates to stick agents onto deforming terrain geometry."], "extent": [3241, 3539]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [3539, 3547], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Agents"], "extent": [3547, 3556], "body": [{"type": "para", "indent": 4, "text": ["The packed primitive agents to modify. "], "extent": [3556, 3601]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [3601, 3610], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Agents"], "extent": [3610, 3619], "body": [{"type": "para", "indent": 4, "text": ["The modified packed primitive agents with terrain projection applied."], "extent": [3619, 3694]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3694, 3703], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/agentprep", "type": "link", "text": "", "fullpath": "/nodes/sop/agentprep.html"}], "extent": [3703, 3726]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/agentterrainadaptation", "type": "link", "text": "", "fullpath": "/nodes/dop/agentterrainadaptation.html"}], "extent": [3726, 3762]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/crowdsolver", "type": "link", "text": "", "fullpath": "/nodes/dop/crowdsolver.html"}], "extent": [3762, 3787]}], "container": true}], "text": "Related"}], "title": ["Agent Terrain Projection"], "summary": ["Projects the agent/particle points onto the terrain."]}
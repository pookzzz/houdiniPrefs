{"type": "root", "attrs": {"type": "node", "context": "vop", "internal": "kma_rayimport", "icon": "VOP/kma_rayimport", "since": "19.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Karma Ray Import"], "extent": [0, 21]}, {"type": "summary", "indent": 0, "text": ["Imports the value of the specified variable from Karma."], "extent": [112, 175]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [175, 186], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["This node\u2019s type parameter can be used to convert the type. For example, changing ", {"type": "em", "text": ["Type"]}, " from ", {"type": "strong", "text": ["Int"]}, " to ", {"type": "strong", "text": ["Vector2"]}, " for ", {"type": "code", "text": ["ray:objectid"]}, " lets you connect directly to ", {"scheme": "Node", "value": "/nodes/vop/mtlxcellnoise2d", "type": "link", "text": ["MtlX Cell Noise 2D"], "fullpath": "/nodes/vop/mtlxcellnoise2d.html"}, ", rather than having to always add a ", {"scheme": "Node", "value": "/nodes/vop/mtlxconvert", "type": "link", "text": ["MtlX Convert"], "fullpath": "/nodes/vop/mtlxconvert.html"}, " and ", {"scheme": "Node", "value": "/nodes/vop/mtlxcombine2", "type": "link", "text": ["MtlX Combine 2"], "fullpath": "/nodes/vop/mtlxcombine2.html"}, "."], "extent": [186, 513]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"type": "code", "text": ["ray:objectid"]}, " and ", {"type": "code", "text": ["ray:primid"]}, " may be useful for adding per-prim or per-element variation. A more reliable way to provide ID signals to a shader would be to author primvars directly, if possible."], "extent": [513, 713]}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Ray Imports"], "extent": [713, 731], "body": [{"type": "para", "indent": 0, "text": ["These are general variables based on rays tracking through the scene and the objects they hit."], "extent": [731, 828]}, {"type": "table", "thead": [{"type": "row", "body": [{"type": "cell", "indent": 0, "text": ["Variable "], "role": "th", "extent": [828, 840], "container": true}, {"type": "cell", "indent": 4, "text": ["Type "], "role": "th", "extent": [840, 852], "container": true}, {"type": "cell", "indent": 8, "text": ["Description "], "role": "th", "extent": [852, 875]}], "divider": false}], "body": [{"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:curveattribP"]}, " "], "role": "td", "extent": [875, 896], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [896, 910], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Position of curve at ray"], "extent": [910, 943]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:curveattribTanV"]}, " "], "role": "td", "extent": [943, 967], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [967, 981], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Tangent of curve at ray"], "extent": [981, 1013]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:curveattribwidth"]}, " "], "role": "td", "extent": [1013, 1038], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [1038, 1050], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Width of curve at ray"], "extent": [1050, 1080]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:direction"]}, " "], "role": "td", "extent": [1080, 1098], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [1098, 1112], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Ray direction from the eye or camera into the scene"], "extent": [1112, 1172]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:dPdz"]}, " "], "role": "td", "extent": [1172, 1185], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [1185, 1199], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Distance of delta for current volume ray"], "extent": [1199, 1248]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hitdist"]}, " "], "role": "td", "extent": [1248, 1264], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [1264, 1276], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["World-space distance from ", {"type": "code", "text": ["ray:origin"]}, " to ", {"type": "code", "text": ["ray:hitP"]}], "extent": [1276, 1338]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/kma_rayimport_hitdist.jpg", "type": "img", "text": ""}], "extent": [1338, 1399]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hitN"]}, " "], "role": "td", "extent": [1399, 1412], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [1412, 1426], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Surface normal of hit surface"], "extent": [1426, 1465]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/kma_rayimport_hitN.jpg", "type": "img", "text": ""}], "extent": [1465, 1523]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hitN_facingratio"]}, " "], "role": "td", "extent": [1523, 1548], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [1548, 1560], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Facing ratio of hit surface (dot product of surface normal and incident ray)"], "extent": [1560, 1645]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hitNg"]}, " "], "role": "td", "extent": [1645, 1659], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [1659, 1673], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Geometric normal of hit surface"], "extent": [1673, 1713]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hitNg_facingratio"]}, " "], "role": "td", "extent": [1713, 1739], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [1739, 1751], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Geometric facing ratio of hit surface (dot product of geometric normal and incident ray)"], "extent": [1751, 1848]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hitP"]}, " "], "role": "td", "extent": [1848, 1861], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [1861, 1875], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Position on hit surface"], "extent": [1875, 1908]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/kma_rayimport_hitP.jpg", "type": "img", "text": ""}], "extent": [1908, 1966]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hitPz"]}, " "], "role": "td", "extent": [1966, 1980], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [1980, 1992], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Hit end distance"], "extent": [1992, 2017]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:hituv"]}, " "], "role": "td", "extent": [2017, 2031], "container": true}, {"type": "cell", "indent": 4, "text": ["vector2 "], "role": "td", "extent": [2031, 2045], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Parametric coordinates of hit surface"], "extent": [2045, 2092]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/kma_rayimport_hituv.jpg", "type": "img", "text": ""}], "extent": [2092, 2151]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:isshadowray"]}, " "], "role": "td", "extent": [2151, 2171], "container": true}, {"type": "cell", "indent": 4, "text": ["bool "], "role": "td", "extent": [2171, 2182], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Indicates if the ray is shadow type"], "extent": [2182, 2226]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:level"]}, " "], "role": "td", "extent": [2226, 2240], "container": true}, {"type": "cell", "indent": 4, "text": ["integer "], "role": "td", "extent": [2240, 2254], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Number of bounces at the hit surface"], "extent": [2254, 2300]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/kma_rayimport_level.jpg", "type": "img", "text": ""}], "extent": [2300, 2359]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:motionvector"]}, " "], "role": "td", "extent": [2359, 2380], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [2380, 2394], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Raster-space velocity of hit surface"], "extent": [2394, 2439]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:objectid"]}, " "], "role": "td", "extent": [2439, 2456], "container": true}, {"type": "cell", "indent": 4, "text": ["int "], "role": "td", "extent": [2456, 2466], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Individual gprims (i.e. Geometric Primitives) like Meshes, BasisCurves, Points, etc\u2026"], "extent": [2466, 2562]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/kma_rayimport_objectid.jpg", "type": "img", "text": ""}], "extent": [2562, 2624]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:backface"]}, " "], "role": "td", "extent": [2624, 2641], "container": true}, {"type": "cell", "indent": 4, "text": ["bool "], "role": "td", "extent": [2641, 2652], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Indicates if the hit surface is a backface"], "extent": [2652, 2703]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:origin"]}, " "], "role": "td", "extent": [2703, 2718], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [2718, 2732], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Ray origin at the eye or camera"], "extent": [2732, 2772]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:pixelsamples"]}, " "], "role": "td", "extent": [2772, 2793], "container": true}, {"type": "cell", "indent": 4, "text": ["integer "], "role": "td", "extent": [2793, 2807], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Number of pixel samples at ray"], "extent": [2807, 2846]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:primid"]}, " "], "role": "td", "extent": [2846, 2861], "container": true}, {"type": "cell", "indent": 4, "text": ["int "], "role": "td", "extent": [2861, 2871], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Polygon, point, and curve elements of each gprim"], "extent": [2871, 2929]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/kma_rayimport_primid.jpg", "type": "img", "text": ""}], "extent": [2929, 2989]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:time"]}, " "], "role": "td", "extent": [2989, 3002], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [3002, 3014], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Time stamp associated with ray"], "extent": [3014, 3053]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["ray:velocity"]}, " "], "role": "td", "extent": [3053, 3070], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [3070, 3084], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Velocity at hit surface"], "extent": [3084, 3117]}]}], "divider": false}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Fake Caustics Imports"], "extent": [3117, 3145], "body": [{"type": "para", "indent": 0, "text": ["This node can import the ray variables that the ", {"scheme": "Node", "value": "/nodes/vop/kma_fakecaustics", "type": "link", "text": ["Karma Fake Caustics"], "fullpath": "/nodes/vop/kma_fakecaustics.html"}, " node uses. These may be useful for faking transparent objects in different ways from Karma Fake Caustics."], "extent": [3145, 3349]}, {"type": "table", "thead": [{"type": "row", "body": [{"type": "cell", "indent": 0, "text": ["Variable "], "role": "th", "extent": [3349, 3361], "container": true}, {"type": "cell", "indent": 4, "text": ["Type "], "role": "th", "extent": [3361, 3373], "container": true}, {"type": "cell", "indent": 8, "text": ["Description "], "role": "th", "extent": [3373, 3396]}], "divider": false}], "body": [{"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["fakecaustic:enable"]}, " "], "role": "td", "extent": [3396, 3419], "container": true}, {"type": "cell", "indent": 4, "text": ["bool "], "role": "td", "extent": [3419, 3430], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Fake caustics enabled or disabled"], "extent": [3430, 3472]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["fakecaustic:N"]}, " "], "role": "td", "extent": [3472, 3490], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [3490, 3504], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Fake caustics surface normal"], "extent": [3504, 3541]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["fakecaustic:ior"]}, " "], "role": "td", "extent": [3541, 3561], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [3561, 3573], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Fake caustics Index of Refraction"], "extent": [3573, 3615]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["fakecaustic:transmission_color"]}, " "], "role": "td", "extent": [3615, 3650], "container": true}, {"type": "cell", "indent": 4, "text": ["vector3 "], "role": "td", "extent": [3650, 3664], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Fake caustics transmission color"], "extent": [3664, 3705]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["fakecaustic:transmission"]}, " "], "role": "td", "extent": [3705, 3734], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [3734, 3746], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Fake caustics transmission amount"], "extent": [3746, 3788]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["fakecaustic:opacity"]}, " "], "role": "td", "extent": [3788, 3812], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [3812, 3824], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Fake caustics transmission opacity"], "extent": [3824, 3867]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["fakecaustic:bsdf"]}, " "], "role": "td", "extent": [3867, 3888], "container": true}, {"type": "cell", "indent": 4, "text": ["float "], "role": "td", "extent": [3888, 3900], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Fake caustics bsdf blending"], "extent": [3900, 3937]}]}], "divider": false}]}]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3937, 3946], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/vop/kma_fakecaustics", "type": "link", "text": "", "fullpath": "/nodes/vop/kma_fakecaustics.html"}], "extent": [3946, 3980]}], "container": true}], "text": "Related"}], "title": ["Karma Ray Import"], "summary": ["Imports the value of the specified variable from Karma."]}